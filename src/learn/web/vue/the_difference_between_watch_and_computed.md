# watch 和 computed 的区别

`watch` 和 `computed` 是 Vue.js 中用于监听数据变化的两种不同方式，它们在用途和工作原理上有一些关键的区别。

## `watch`

1. **用途：** 主要用于监听特定数据的变化，当数据发生变化时执行一些操作，例如异步请求、复杂的业务逻辑等。

2. **声明方式：** 通过在组件的选项中声明 `watch` 对象，监听指定的数据。

3. **监听范围：** 可以监听任意数据，包括普通数据、对象、数组等。

4. **语法：**

   ```javascript
   watch: {
     // 监听普通数据
     someData(newValue, oldValue) {
       // 处理逻辑
     },
     // 监听对象的属性
     'obj.prop'(newValue, oldValue) {
       // 处理逻辑
     },
   }
   ```

## `computed`

1. **用途：** 主要用于计算衍生数据，根据已有数据派生出新的数据，常用于模板中的数据展示。

2. **声明方式：** 通过在组件的选项中声明 `computed` 对象，计算得到新的派生数据。

3. **监听范围：** 只能监听已有的数据，不能监听新的数据，而是通过依赖已有数据的变化而触发重新计算。

4. **语法：**

   ```javascript
   computed: {
     // 基于已有数据计算新的数据
     derivedData() {
       return this.someData * 2;
     },
     // 计算对象的属性
     derivedProp() {
       return this.obj.prop * 3;
     },
   }
   ```

## 区别总结

- **用途不同：** `watch` 用于监听数据变化执行操作，`computed` 用于计算派生数据。
- **声明方式不同：** `watch` 使用 `watch` 选项，`computed` 使用 `computed` 选项。
- **监听范围不同：** `watch` 可以监听任意数据变化，包括新数据的产生，而 `computed` 只能监听已有数据。
- **语法不同：** `watch` 的语法更灵活，支持监听普通数据和对象的属性，而 `computed` 主要用于计算新数据。

在实际使用中，选择使用 `watch` 还是 `computed`
取决于具体的需求。如果你需要监听一些异步操作或执行复杂的业务逻辑，使用 `watch`
更合适；如果你需要计算衍生数据，使用 `computed` 更为清晰和方便。
